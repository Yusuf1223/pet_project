{% extends 'store/base.html' %}
{% block title %}Watches{% endblock %}
{% load static %}

{% block content %}
    <div id="initial"></div>
    <section class="section">
        <div class="container-my">
            <div class="filters-row">
                <a class="filter-btn" data-toggle="modal" data-target="#filterModal">
                    <svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 19V12" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4 8V1" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 19V10" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 6V1" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20 19V14" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20 10V1" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M1 12H7" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 6H15" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M17 14H23" stroke="#232323" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Filter by
                </a>
                <form onchange="this.form.submit();" action="" class="form">
                    <div class="custom-select" >
                    <select name="sort" id="sort">
                        <option value="0">Sorting by:</option>
                        <option value="1">Newest</option>
                        <option value="2">Price</option>
                    </select>
                    </div>
                </form>
            </div>
            <div class="products">
                {% for watch in watch_list %}
                <a href="{% url 'store:watch' watch.id %}" class="product-card">
                    <div class="img-container">
                        <img src="{{ watch.images.first.image.url }}" alt="" class="img">
                    </div>
                    <div class="info">
                        <h3 class="name">{{ watch.title }}</h3>
                        <p class="price">{{ watch.price }} Р</p>
                        <div class="btn-container">
                            <button class="btn">To Cart
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                {% endfor %}

                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/3.png" alt="" class="img">
                    </div>
                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/4.png" alt="" class="img">
                    </div>

                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/1.png" alt="" class="img">
                    </div>
                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/2.png" alt="" class="img">
                    </div>
                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/3.png" alt="" class="img">
                    </div>
                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/4.png" alt="" class="img">
                    </div>

                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
                <a href="product.html" class="product-card">
                    <div class="img-container">
                        <img src="img/products/4.png" alt="" class="img">
                    </div>

                    <div class="info">
                        <h3 class="name">Часы Amelia Parker</h3>
                        <p class="price">1 111 Р</p>
                        <div class="btn-container">
                            <button class="btn">В корзину
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.5017 17H5.82609C5.43915 17 5.08694 16.7768 4.92177 16.4269L0.673519 7.42686C0.360404 6.76352 0.844309 6 1.57784 6H16.4667C17.189 6 17.673 6.74221 17.3818 7.40317L13.4168 16.4032C13.257 16.7659 12.898 17 12.5017 17Z" stroke="white"/>
                                    <path d="M12 6V3C12 1.89543 11.1046 1 10 1H8C6.89543 1 6 1.89543 6 3V6" stroke="white"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </a>
            </div>
            <div class="more-btn-container">
                <a href="{% url 'store:catalog' %}#initial" class="btn">Top of the Page</a>
            </div>

<!--            для тестирования модальных окон. удалить при разработке-->
{#            <div class="test" style="display:flex; justify-content: space-between; margin: 30px 0;">#}
{#                <a href="" class="link" data-toggle="modal" data-target="#addedModal">Товар добавлен в корзину</a>#}
{#                <a href="" class="link" data-toggle="modal" data-target="#deletedModal">Товар удален из корзины</a>#}
{#                <a href="" class="link" data-toggle="modal" data-target="#thankYouModal">Спасибо за покупку</a>#}
{#            </div>#}
<!--            конец блока для тестирования-->
        </div>
    </section>
{% endblock %}
{% block modal %}
<div class="modal fade form-modal filter" id="filterModal" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-name-container">
                    <h5 class="modal-name">Filter</h5>
                </div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="" class="form">
                    <div class="price-range">
                        <div class="inputs">
                            <div class="input-container">
                                <div class="placeholder-static">
                                    <p class="text">Р</p>
                                </div>
                                <input type="text" class="input" name="min" id="min">
                            </div>
                            <div class="input-container">
                                <div class="placeholder-static">
                                    <p class="text">Р</p>
                                </div>
                                <input type="text" class="input" name="max" id="max">
                            </div>
                        </div>
                        <div class="range-slider" id="range-slider"></div>
                        <!--                        в конце этого файла есть вызов функции initializeRangeSlider(0, 5000). минимальные и-->
                        <!--                        максимальные значения стоит вписывать туда. в файле script.js прописана эта функция, там-->
                        <!--                        инициализируется ползунок. если потребуется изменить настройки, вот документация:-->
                        <!--                        https://refreshless.com/nouislider/slider-options/-->
                        <div class="minmax">
                            <p class="text">Min</p>
                            <p class="text">Max</p>
                        </div>
                    </div>
                    <div class="select-inputs">
                        <div class="custom-select" >
                            <select name="bracelet_color" id="bracelet_color">
                                <option value="">Bracelet Color</option>
                                {% for color in filter_list.colors.all %}
                                <option value="{{ color.title }}">{{ color.title}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="custom-select" >
                            <select name="bracelet_material" id="bracelet_material">
                                <option value="">Bracelet Material</option>
                                {% for material in filter_list.materials.all %}
                                <option value="{{ material.title }}">{{ material.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="custom-select" >
                            <select name="watch_color" id="watch_color">
                                <option value="">Watch Color</option>
                                {% for color in filter_list.colors.all %}
                                <option value="{{ color.title }}">{{ color.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="custom-select" >
                            <select name="watch_material" id="watch_material">
                                <option value="">Watch Material</option>
                                {% for material in filter_list.materials.all %}
                                <option value="{{ material.title }}">{{ material.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="custom-select" >
                            <select name="glass_material" id="glass_material">
                                <option value="">Glass Material</option>
                                {% for glass in filter_list.glass_materials.all %}
                                <option value="{{ glass.title }}">{{ glass.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="input-container">
                        <button class="submit">Filter</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
    <script src="{% static "nouislider/nouislider.js" %}"></script>
    <script>
        initializeRangeSlider(0, 5000);
    </script>
{#    <script type='text/javascript'>#}
{#    function submitForm(){#}
{#      // Call submit() method on <form id='myform'>#}
{#      document.getElementById('myform').submit();#}
{#    }#}
{#    </script>#}
{% endblock %}